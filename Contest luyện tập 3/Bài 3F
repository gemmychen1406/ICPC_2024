#include<iostream>
#include<string>
#include<cmath>
#include<algorithm>

using namespace std;
long long f(long long n, long long m){
	if (n == 0) return 0;
	if (n == 1) return 1;
	return (f(n - 1, m) + f(n - 2, m)) % m;
}
long long gcd(long long a, long long b){
	if (a < b){
		long long c = a;
		a = b;
		b = c;
	}
	if (a % b == 0) return b;
	return gcd(a % b, b);
}
int main(){
	
	int t;
	cin >> t;
	while(t--){
		long long a, b, m;
		cin >> a >> b >> m;
		//long long x = f(a, m), y = f(b, m);
		cout << f(gcd(a, b), m) << "\n";
	}
	
}
